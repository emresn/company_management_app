{% extends 'layout.html' %} 
{% load static %}

{% block body %}
{% load crispy_forms_tags %}
{% comment %} {% crispy product_form product_form.helper %} {% endcomment %}


<div
  class=" bg-gray-100 h-full "
>
  <div class="bg-gray-800 flex flex-row items-center justify-between overflow-auto">
    <div
      class="rounded-tl-2xl bg-gradient-to-r from-blue-900 to-gray-800 p-2 shadow text-lg text-white"
    > {% if mode == 'edit' %}
      <h2 class="font-bold pl-3">Update Product</h2> 
      {% else %}
      <h2 class="font-bold pl-3">Add New Product</h2> 
     {% endif %}
     
     </div>
    <a
      class="flex items-center px-4 py-2 mx-4 text-gray-800 rounded-md bg-gray-200 hover:bg-yellow-100"
      href="#" onClick="javascript:history.go(-1);"
    >
    <img style="max-width:100%;height:auto;" width="20px" src="{% static 'img/back.svg' %}" alt="back"></img>
      
      <span class="mx-2 font-medium">Back</span>
    </a>
  </div>

<div>
    <div class="flex flex-col md:flex-row flex-wrap my-4 gap-5 w-full justify-center">
    <div class="w-full sm:w-2/5 border-0 sm:border-l">
        <div class="w-full ">
        
            <form method="POST">
                {% csrf_token %}
                {% comment %} {{form|crispy}} {% endcomment %}
                {{ form.name|as_crispy_field }}
                {{ form.image_href|as_crispy_field }}
                {{ form.description|as_crispy_field }}
                <div class="flex flex-row justify-between items-center w-full">
                  <div class="w-full mr-4">{{ form.stock|as_crispy_field }}</div>
                  <div class="mt-3 ">  {{ form.is_active|as_crispy_field }}</div>
                </div>
                {{ form.gr|as_crispy_field }}

                
                {% if mode == 'edit'  %}
                  <button type="submit" class="my-2 py-2 px-8 bg-indigo-800 text-white hover:bg-indigo-700 rounded-lg">Update</button>
                {% else %}
                  <button type="submit" class="my-2 py-2 px-8 bg-indigo-800 text-white hover:bg-indigo-700 rounded-lg">Add Product</button>
                {% endif %}
            </form>
        </div>
    </div>
    </div>
</div>
</div>
{% endblock body %}